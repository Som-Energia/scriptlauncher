general:
    description: Informació General
    scripts:
      quadrecontrolgeneral:
        script: python SOME_SRC/patchscripts/Informacio/General_Quadre_control.py -d {date}
        description: Quadre de control de comercializació
        parameters:
          date:
            userdescription: Introdueix la data (inclosa) fins a la que vols fer l'estudi amb el format 'YYYY-mm-dd'
measurefixing:
  description: Facturació. Validació de lectures
  scripts:
    quadrecontrol:
      script: SOME_SRC/invoice-janitor/measurefixing/Validacio_Quadre_control.py
      description: Quadre de control
     
    errorsprincipals:
      script: SOME_SRC/invoice-janitor/measurefixing/Validacio0_errors_principal.py
      description: Script principal
    
    validacionbajas:
      script: SOME_SRC/invoice-janitor/measurefixing/Validacio1_baixes_2.py
      description: Corretgir errors en baixes
    
    polizasbajas:  
      script: SOME_SRC/invoice-janitor/measurefixing/Validacio2_eliminar_polisses_baixa.py
      description: Eliminar pòlisses de baixa
    
    sobreestimaciones:
      script: SOME_SRC/invoice-janitor/measurefixing/Validacio3_sobre_estimacions.py
      description: Corretgir Sobreestimaciones    
    
    sinlecturamaximetro:
      script: SOME_SRC/invoice-janitor/measurefixing/Validacio4_sense_lectura_maximetre.py
      description: Corretgir errors en lectures de maximetre
    
    validacionincompleta:
      script: SOME_SRC/invoice-janitor/measurefixing/Validacio5_incompleta.py
      description: Corretgir lectures que estan incompletes
    
    lecturacierre:
      script: SOME_SRC/invoice-janitor/measurefixing/Validacio6_lectura_tancament.py
      description: Corretgir lectures de tancament de comptadors (passar-lo fins que no l'ajuntem amb l'altre)
    
    cierremejorado:
      script: SOME_SRC/invoice-janitor/measurefixing/Validacio7_tancament_millorat.py
      description: Corretgir lectures de tancament de comptadors (millorat)
    
    senselectureanterior:
      script: SOME_SRC/invoice-janitor/measurefixing/Validacio8_sense_lectura_anterior.py
      description: Corretgir pòlisses que no es troba la lectura anterior.

invoicefixing:
  description: Facturació. Eines per lots, F1 i factures
  scripts:
    contractmove:
      script: SOME_SRC/patchscripts/lots/moure_polisses.py
      description: Moure polisses al lot següent
    fixextraline:  
      script: SOME_SRC/invoice-janitor/fix_extra_line.py
      description: Corretgir errors extra line
    report0lines0days:
      script: SOME_SRC/invoice-janitor/report_0days_0kWh.py {lot}
      description: Factures 0days 0lines
      parameters:
        lot:
          userdescription: Introdueix el lot a procesar amb el format "mm/yyyy" ej:03/2016
    fixrefundinvoice:
      script:
        - SOME_SRC/invoice-janitor/invoicefixing/fix_refund_invoice.py
        - -i
        - "{invoice}"
      description: Corretgir factura rectificativa
      parameters:
        invoice:
          userdescription: Invoice number
    fixinvoice:
      script: python SOME_SRC/invoice-janitor/invoicefixing/fix_invoice.py -c {contract_name} -s {start_date} -e {end_date}
      description: Abonar i rectificar
      parameters:
        contract_name:
          userdescription: Número de contracte
        start_date:
          userdescription: data inici
        end_date:
          userdescription: data final

gestiocontractes:
    description: Gestió de contractes
    scripts:
      canvistitular:
        script: execute_send_email.py -C ~/config.py -s canvi_titular -t modifica@somenergia.coop -- python SOME_SRC/patchscripts/Revisions_periodiques/canvi_titular_fase3.py
        description: Canvi de titular. Última fase

massivemailing:
  description: Gestió de contractes. Petició de renovar Butlletins i verficacions de CUPS
  scripts:
    cupstoemailb:
      script: SOME_SRC/cups2email/cups2email_lang_b.py {file}
      description: Email validació de instalació a partir dels CUPS facilitats per la distribuidora
      parameters:
        file:
          type: FILE
          userdescription: Excel con los cups
    
    cupstoemaila:
      script: SOME_SRC/cups2email/cups2email_lang_a.py {file}
      description: Email petició documentació a partir dels CUPS facilitats per la distribuidora
      parameters:
        file:
          type: FILE
          userdescription: Excel con los cups

test:
  description: scripts de test
  scripts:
    test:
      script: /usr/bin/printf {nouser}
      description: Working test
      parameters:
        nouser:
          default: "It works\n"
    test2:
      script: /bin/cat {param1} {param2} {param3}
      description: Concatentate files
      parameters:
        param1:
          type: FILE
        param2:
          type: FILE
        param3:
          type: FILE
        
    test3:
      script: /bin/grep -R "{expr}" "{file}"
      description: Search in file
      parameters:
        expr:
          userdescription: Expressió regular
        file:
          type: FILE

